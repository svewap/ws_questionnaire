{namespace qu=WapplerSystems\WsQuestionnaire\ViewHelpers}
<f:alias map="{resultAnswer: '{qu:getResultAnswer(result: newResult, questionUid: question.uid, answerUid: answer.uid)}'}">
	<f:form.hidden name="newResult[questions][{question.uid}][answers][{answer.uid}][answer]" value="{answer.uid}" />
	<div class="wsqAnswerWrap wsqAnswerCheckbox">
		<f:form.checkbox id="wsq{question.uid}a{answer.uid}" name="newResult[questions][{question.uid}][answers][{answer.uid}][value]" value="{answer.uid}" checked="" />
		<label for="wsq{question.uid}a{answer.uid}" class="radio_checkbox">&nbsp;</label>
		<f:format.html>{answer.text}</f:format.html>
	</div>
</f:alias>
<!-- Javascript to check mandatory in Checkbox -->
<qu:pageRenderer.addJsFooterInlineCode>
/*
 * This question is always mandatory
 */
jQuery('#wsq{question.uid}a{answer.uid}').on('click', function() {
	if (jQuery("#wsq{question.uid}a{answer.uid}:checked").length > 0) jQuery("#wsqMandatory{question.uid}").val(0);
	else jQuery("#wsqMandatory{question.uid}").val(1);
	checkMandatory();
});
</qu:pageRenderer.addJsFooterInlineCode>
